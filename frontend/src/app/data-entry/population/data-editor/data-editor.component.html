<div class="form-panel" *ngIf="!isSubmitting">
  <form *ngIf="!isSubmitting" [formGroup]="formGroup" (ngSubmit)="submit()" novalidate>
    <div class="form-group">
      <div class="wrap">
        <label>所属社区</label>
        <ca-select formControlName="communityID">
          <ca-option [value]="''">请选择所属社区</ca-option>
          <ca-option *ngFor="let community of communities" [value]="community.id">{{ community.name }}</ca-option>
        </ca-select>
      </div>
      <small *ngIf="formGroup.get('communityId').dirty && formGroup.get('communityId').hasError('required')" class="invalid-feedback">
        Required field.
      </small>
    </div>
    <div class="form-group">
      <div class="wrap">
        <label>家庭住址</label>
        <input type="text" class="form-control" formControlName="family_Address" placeholder="家庭住址"  caValidityClass/>
      </div>
    </div>
    <div class="form-group family-type">
      <div class="wrap">
        <label>住户性质</label>
        <div class="inner-wrap">
          <div class="wrap">
            <ca-input-radio [value]="'流动人口'" formControlName="family_Type"></ca-input-radio>
            <label>流动人口</label>
          </div>
          <div class="wrap">
            <ca-input-radio [value]="'常住人口'" [checked]="true" formControlName="family_Type"></ca-input-radio>
            <label>常住人口</label>
          </div>
        </div>
      </div>
    </div>
    <div class="form-group">
      <div class="wrap">
        <label>联系方式</label>
        <input type="text" class="form-control" formControlName="family_Phone" placeholder="联系方式"  caValidityClass/>
      </div>
    </div>
    <div class="form-group">
      <div class="wrap">
        <ca-input-checkbox *ngFor="let item of insurancesFormArray" [formControl]="item.control" [value]="item.insurance.value">{{ item.insurance.name }}</ca-input-checkbox>
      </div>
    </div>
    <div class="form-group">
      <div class="wrap">
        <label>家庭情况</label>
        <textarea type="text" class="form-control" formControlName="family_Content" placeholder="" caValidityClass></textarea>
      </div>
    </div>
    <div class="modal-buttons">
      <button type="submit" class="btn btn-primary">Save</button>
    </div>
  </form>
</div>
<ca-spinner *ngIf="isSubmitting" [state]="spinnerState" dotColor="grey">
  <ng-container *ngIf="spinnerState === 'waiting'">创建成功</ng-container>
  <ng-container *ngIf="spinnerState === 'success'">{{successMessageTimeoutInSeconds}} 秒后关闭.</ng-container>
  <ng-container *ngIf="spinnerState === 'failed'">创建失败.</ng-container>
</ca-spinner>
