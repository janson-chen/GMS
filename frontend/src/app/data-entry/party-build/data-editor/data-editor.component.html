<div class="form-panel" *ngIf="!isSubmitting">
  <div class="form-info">
    <dl>
      <dt>社区</dt>
      <dd>回民社区</dd>
      <dt>登记人</dt>
      <dd>张三</dd>
      <dt>登记日期</dt>
      <dd>2018/05/01</dd>
    </dl>
  </div>
  <form *ngIf="!isSubmitting" [formGroup]="formGroup" (ngSubmit)="submit()" novalidate>
    <div class="form-group">
      <div class="wrap">
        <label>所属社区</label>
        <ca-select formControlName="communityID">
          <ca-option [value]="''">请选择所属社区</ca-option>
          <ca-option *ngFor="let community of communities" [value]="community.id">{{ community.name }}</ca-option>
        </ca-select>
      </div>
      <small *ngIf="formGroup.get('communityID').dirty && formGroup.get('communityID').hasError('required')" class="invalid-feedback">
        Required field.
      </small>
    </div>
    <div class="form-group">
      <div class="wrap">
        <label>活动名称</label>
        <input type="text" class="form-control" formControlName="subject" placeholder=""  caValidityClass/>
      </div>
    </div>
    <div class="form-group">
      <div class="wrap">
        <label>活动形式</label>
        <textarea type="text" class="form-control" formControlName="form" placeholder=""  caValidityClass></textarea>
      </div>
    </div>
    <div class="form-group">
      <div class="wrap">
        <label>参与人数</label>
        <input type="text" class="form-control" formjoinAmount="joinAmount" placeholder=""  caValidityClass/>
      </div>
    </div>
    <div class="form-group">
      <div class="wrap">
        <label>活动时间</label>
        <input type="text" class="form-control" formControlName="activitiesDate" placeholder=""  caValidityClass/>
      </div>
    </div>
    <div class="form-group">
      <div class="wrap">
        <label>活动地点</label>
        <input type="text" class="form-control" formControlName="activitiesPlace" placeholder=""  caValidityClass/>
      </div>
    </div>
    <div class="form-group">
      <div class="wrap">
        <label>活动内容</label>
        <textarea type="text" class="form-control" formControlName="content" placeholder="" caValidityClass></textarea>
      </div>
    </div>
    <div class="modal-buttons">
      <button type="submit" class="btn btn-primary">Save</button>
    </div>
  </form>
</div>
<ca-spinner *ngIf="isSubmitting" [state]="spinnerState" dotColor="grey">
  <ng-container *ngIf="spinnerState === 'waiting'">Saving changes...</ng-container>
  <ng-container *ngIf="spinnerState === 'success'">Changes have been saved successfully! Returning automatically in {{successMessageTimeoutInSeconds}} seconds.</ng-container>
  <ng-container *ngIf="spinnerState === 'failed'">Failed to save your changes.</ng-container>
</ca-spinner>
